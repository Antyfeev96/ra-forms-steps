{"version":3,"sources":["Components/Form/Form.jsx","Components/ListTitle/ListTitle.jsx","Components/ListItem/ListItem.jsx","Components/ListItems/ListItems.jsx","Components/List/List.jsx","Components/Container/Container.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["Form","props","onAddItem","handleTimestamp","handleDistance","formRef","useRef","ref","className","onSubmit","e","placeholder","id","name","type","onChange","onClick","current","reset","value","ListTitle","ListItem","item","onDeleteItem","timestamp","distance","key","ListItems","items","setState","map","index","arr","splice","List","russianDate","input","data","split","Date","ITEMS","nanoid","Container","useState","sort","a","b","state","form","setForm","preventDefault","ruDate","endDate","day","getDate","toString","length","month","getMonth","getFullYear","convertToRussianString","find","prev","newState","forEach","newDistance","push","event","target","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f71c98b3.chunk.js","sourcesContent":["import { useRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default function Form(props) {\r\n  const { onAddItem, handleTimestamp, handleDistance } = props;\r\n\r\n  const formRef = useRef();\r\n\r\n  const onClick = () => {\r\n    formRef.current.reset();\r\n  }\r\n\r\n  return (\r\n    <form ref={formRef} className=\"form\" onSubmit={(e) => onAddItem(e)}>\r\n      <div className=\"form__date\">\r\n        <div>Дата (ДД.ММ.ГГ)</div>\r\n        <input placeholder='Введите дату' id=\"date\" name=\"date\" type=\"text\" onChange={(e) => handleTimestamp(e)}/>\r\n      </div>\r\n      <div className=\"form__distance\">\r\n        <div>Пройдено км</div>\r\n        <input placeholder='Введите дистанцию' id=\"distance\" name=\"distance\" type=\"text\" onChange={(e) => handleDistance(e)}/>\r\n      </div>\r\n      <input onClick={(e) => onClick(e)} id=\"submit\" type=\"submit\" value=\"OK\"/>\r\n    </form>\r\n  )\r\n}\r\n\r\nForm.propTypes = {\r\n  onAddItem: PropTypes.func,\r\n  handleTimestamp: PropTypes.func,\r\n  handleDistance: PropTypes.func,\r\n}","export default function ListTitle() {\r\n  return (\r\n    <div>\r\n      <div className=\"table__title\">\r\n        <span>Дата (ДД.ММ.ГГ)</span>\r\n        <span>Пройдено км</span>\r\n        <span>Действия</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import PropTypes from 'prop-types'\r\n\r\nexport default function ListItem(props) {\r\n  const { item, onDeleteItem } = props;\r\n\r\n  return (\r\n    <div key={item.key} className=\"table__item\">\r\n      <div className=\"table__timestamp\">{item.timestamp}</div>\r\n      <div className=\"table__distance\">{item.distance}</div>\r\n      <div  className=\"table__delete\" onClick={onDeleteItem}>✘</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nListItem.propTypes = {\r\n  item: PropTypes.shape({\r\n    timestamp: PropTypes.string,\r\n    distance: PropTypes.string,\r\n  }),\r\n  onDeleteItem: PropTypes.func\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport ListItem from '../ListItem/ListItem';\r\n\r\nexport default function ListItems(props) {\r\n  const  { items, setState } = props;\r\n\r\n  const onDeleteItem = (index) => {\r\n    const arr = [ ...items ];\r\n    arr.splice(index, 1);\r\n    setState(() => arr);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"table__items\">\r\n        {items.map((item, index) => <ListItem key={item.key} item={item} onDeleteItem={() => onDeleteItem(index)} />)}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nListItems.propTypes = {\r\n  items: PropTypes.arrayOf(PropTypes.shape({\r\n    timestamp: PropTypes.string,\r\n    distance: PropTypes.string\r\n  })),\r\n  setState: PropTypes.func\r\n}\r\n","import PropTypes from 'prop-types'\r\nimport ListTitle from '../ListTitle/ListTitle';\r\nimport ListItems from '../ListItems/ListItems';\r\n\r\nexport default function List(props) {\r\n  const { items, setState } = props;\r\n  return (\r\n    <div className=\"table\">\r\n      <ListTitle />\r\n      <ListItems items={items} setState={setState} />\r\n    </div>\r\n  )\r\n}\r\n\r\nList.propTypes = {\r\n  items: PropTypes.arrayOf(PropTypes.shape({\r\n    timestamp: PropTypes.string,\r\n    distance: PropTypes.string\r\n  })),\r\n  setState: PropTypes.func\r\n}","import { nanoid } from 'nanoid';\r\nimport React, { useState } from 'react'\r\nimport Form from '../Form/Form'\r\nimport List from '../List/List'\r\n\r\nconst russianDate = (input) => {\r\n  const data = input.split('.')\r\n  const russianData = new Date(data[2], data[1] - 1, data[0]);\r\n  return russianData;\r\n};\r\n\r\nconst convertToRussianString = (data) => {\r\n  const day = data.getDate().toString().length === 1 ? `0${data.getDate()}` : data.getDate();\r\n  const month = data.getMonth().toString().length === 1 ? `0${data.getMonth() + 1}` : data.getMonth() + 1;\r\n  return `${day}.${(month).toString()}.${data.getFullYear()}`\r\n}\r\n\r\nlet ITEMS = [\r\n  {\r\n    key: nanoid(5),\r\n    timestamp: '20.07.2019',\r\n    distance: '5'\r\n  },\r\n  {\r\n    key: nanoid(5),\r\n    timestamp: '08.12.1996',\r\n    distance: '10'\r\n  },\r\n  {\r\n    key: nanoid(5),\r\n    timestamp: '18.07.2019',\r\n    distance: '8.8'\r\n  },\r\n];\r\n\r\nexport default function Container() {\r\n\r\n  const [state, setState] = useState(ITEMS.sort((a, b) => russianDate(a.timestamp) < russianDate(b.timestamp) ? 1 : -1));\r\n  const [form, setForm] = useState({\r\n    timestamp: '',\r\n    distance: ''\r\n  })\r\n\r\n  const handleTimestamp = (event) => {\r\n    const { value } = event.target;\r\n    setForm( prev => ({ ...prev, timestamp: value }));\r\n  }\r\n\r\n  const handleDistance = (event) => {\r\n    const { value } = event.target;\r\n    setForm( prev => ({ ...prev, distance: value }));\r\n  }\r\n\r\n  const onAddItem = (e) => {\r\n    e.preventDefault();\r\n    const ruDate = russianDate(form.timestamp);\r\n    const { distance } = form;\r\n    const endDate = convertToRussianString(ruDate);\r\n    if (state.find(item => item.timestamp === endDate)) {\r\n      setState(prev => {\r\n        const newState = [];\r\n        prev.forEach(item => {\r\n          if (item.timestamp === endDate) {\r\n            const newDistance = (+item.distance + +distance).toString();\r\n            item = {\r\n              key: nanoid(5),\r\n              timestamp: endDate,\r\n              distance: newDistance,\r\n            }\r\n          }\r\n          newState.push(item);\r\n        })\r\n        return newState.sort((a, b) => russianDate(a.timestamp) < russianDate(b.timestamp) ? 1 : -1);\r\n      })\r\n    } else {\r\n      setState(prev => {\r\n        return [\r\n          ...prev,\r\n          {\r\n            key: nanoid(5),\r\n            timestamp: endDate,\r\n            distance,\r\n          }\r\n         ].sort((a, b) => russianDate(a.timestamp) < russianDate(b.timestamp) ? 1 : -1)\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Form setForm={setForm} onAddItem={onAddItem} handleTimestamp={handleTimestamp} handleDistance={handleDistance} />\r\n      <List items={state} setState={setState} />\r\n    </div>\r\n  )\r\n}\r\n","import './App.scss';\nimport Container from './Components/Container/Container';\n\nexport default function App() {\n  return (\n    <Container />\n  );\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}